colombo=[
"Hilton+Colombo",
"Cinnamon+Grand+Colombo",
"The+Kingsbury",
"Cinnamon+Lakeside+Colombo",
"Casa+Colombo+Hotel",
"Majestic+Cinema",
"Savoy+3D+Cinema",
"Regal+Cinema",
"Cine+City",
"Viharamahadevi+Park",
"Savoy+3D+Cinema",
"Gangaramaya+Park",
"National+Museum",
"Dutch+Museum",
"Sri+Lanka+Air+Force+Museum",
"Gangaramaya+Temple",
"Dehiwala+Zoo",
"Bally's+Casino",
"Pettah+Floating+Market",
"Shri+Ponnambalawaneswaram+Kovil",
"Wolvendaal+Church",
"National+Art+Gallery",
"Galle+Face+Beach",
"Colombo+Lighthouse",
"Kelaniya+Raja+Maha+Vihara",
"Dutch+Hospital+Shopping+Precinct",
"Colombo+Public+Library",
"Premadasa+International+Cricket+Stadium",
"Excel+World+Entertainment+Park",
"Galle+Face+Hotel",
"Ratmalana+Airport",
"LeisureWorld+Water+Park",
"Guruge+Park",
"Kiddies+Pool+Slides",
"Cafe+Mocha+by+Barista",
"Chinese+Dragon+Cafe+Bambalapitiya",
"Cup+Cafe",
"The+Commons+Coffeehouse",
"Arcade+Independence+Square",
"The+Fab",
"Liberty+Plaza",
"Colombo+City+Centre",
"Sugathadasa+Stadium",
"The+Cricket+Club+Cafe",
"Diyatha+Uyana+Aquarium",
"Water+World+Lanka",
"North+West+Aquarium",
"Lionel+Wendt+Art+Gallery",
"Jana+Kala+Kendraya"
]

galle = [
"Galle+Fort",
"National+Maritime+Museum",
"National+Museum+of+Galle",
"Galle+Lighthouse",
"Historical+Mansion+Museum",
"All+Saints'+Church,+Galle",
"Galle+Harbour",
"Galle+Dutch+Fort",
"Christian+Reformed+Church",
"St.+Mary's+Cathedral,+Galle",
"Dutch+Mansion+Museum",
"Beach+of+Bonavista",
"Galle+Library",
"Gall+Fort+Clock+Tower",
"Stelzenfischer+auf+Sri+Lanka",
"Queen's+Cinema",
"Old+Dutch+Hospital",
"Carrousel+De+Galle",
"Cinnamon+Island",
"Beach+Park+-+Galle+Municipal+Council",
"Mahamodara+Beach+Park+&+Marine+Walk",
"King+Fisher+River+Safari",
"Koggala+Beach+Park",
"Royal+Dutch+Cafe",
"Serendipity+Arts+Cafe",
"Galle+Fort+Hotel",
"Tamarind+Hill",
"Jetwing+Kurulubedda",
"Galle+International+Cricket+Stadium",
"Water+Hole",
"Japanese+Peace+Pagoda",
"Gangarama+Purana+Viharaya",
"Fort+Meeran+Jumma+Masjid",
"Koggala+Air+Force+Base",
"Tsunami+Museum",
"Turtle+Museum",
"Martin+Wickramasinghe+House",
"Jungle+Beach",
"Sithuvili+Gallery",
"The+Cell+Art+Gallery",
"Sail+Lanka+Charter+Bentota",
"Jetwing+Lighthouse",
"Avenra+Beach+Hotel",
"New+Old+Dutch+House",
"Unawatuna+Beach+Resort",
"Lucky+Fort+Restaurant",
"The+Stairway",
"Lucky+Tuna",
"Thaproban+Beach+House",
"Jungle+Beach+Disko"
]

kandy = [
"Temple+of+the+Tooth",
"Kandy+Lake",
"Udawatta+Kele+Sanctuary",
"Sigiriya",
"Sri+Dalada+Maligawa",
"Botanical+Gardens+Peradeniya",
"Dambulla+cave+temple",
"Knuckles+Mountain+Range",
"Royal+Bar+Hotel",
"Wales+Park",
"Highway+museum+complex+Kiribathkumbura",
"Natha+Devale+Kandy",
"Media+Special+Project+Bureau",
"International+Buddhist+Museum",
"Sri+Rajopawanaramaya+Temple",
"Tusker+Raja+Museum",
"Bahiravokanda+Vihara+Buddha+Statue",
"Slightly+Chilled+Lounge+Bar+and+Restaurant",
"Asgiriya+International+Cricket+Stadium",
"Pallekale+International+Cricket+Stadium",
"Nittawela+Rugby+Stadium",
"Lion+Park+Trinity+College+Rugby+Stadium",
"Hantane+Shadow+Retreat+Spa",
"Wedda+peni+ella",
"Kandy+Baptist+Church",
"Udawatta+Kele+Sanctuary",
"New+Ranweli+Spice+Garden+Kandy",
"Huluganga+Ella+Waterfall",
"Victoria+Reservoir",
"Devon+Falls",
"The+Empire+Cafe",
"Devon+Food+Court",
"Hotel+Kandyan+Arts+Residency",
"KCC",
"Municipal+Public+Shopping+Complex",
"Hotel+Hill+Top+",
"Mahaweli+Reach+Hotel",
"The+Grand+Kandyan+Hotel",
"Hotel+Suisse",
"Regal+Cinema",
"Wembley+Theater",
"Sri+Sambuddhaloka+Samadhi+Temple,+Kandy",
"Wattarantenna+Purana+Gal+Len+Viharaya",
"Vishnu+Devalaya-kandy",
"Asgiri+Maha+Viharaya",
"Pinnawala+Zoo",
"Ranvilla+wild+cabin+in+paradise+jungle+mist",
"Queen's+Hotel",
"Wedamedura+Ayurveda"
]

eliya = [
"Hakgala+Botanical+Garden",
"Devon+Falls",
"St.+Clairs+Falls",
"Pidurutalagala",
"Galway's+Land+National+Park",
"Horton+Plains+National+Park",
"Adam's+Peak",
"Seetha+Amman+Temple",
"Aberdeen+Falls",
"Victoria+Park+Nuwara+Eliya",
"Lover's+leap+Waterfall",
"Pedro+Tea+Factory",
"Moon+Plains",
"Victoria+Museum",
"Mackwoods+Museum",
"Suwamadu+Ayurvedic+Health+Resort",
"Araliya+Green+Hills+Hotel",
"Alpine+Hotel",
"Heritance+Tea+Factory",
"Glendower+Hotel",
"Jetwing+St.+Andrews",
"Calamander+Lake+Gregory",
"Lake+View+Comfort+Bungalow",
"The+Tea+Garden",
"Holy+Trinity+Church",
"Kadadora+Raja+Maha+Viharaya",
"Seetha+Amman+Temple",
"Nuwara+Eliya+Race+Course+Ground",
"Grand+Indian",
"Mlesna+Tea+Castle",
"Zesta+Tea+Cup",
"Araliya+Green+Hills+Hotel",
"Samuel+Baker+Restaurant+Windsor+Hotel",
"Nuwara+Eliya+Golf+Club",
"OakRay+Summer+Hill+Breeze+Hotel",
"Lake+View+Pub",
"Restaurant+Two",
"Cool+Feel+Rest",
"Champ+Villa",
"Bomburuella+Waterfall",
"Baker's+Falls",
"Laxapana+Falls",
"Ramboda+Falls",
"Lanka+Ella+Waterfall",
"Queen+Elizabeth+Plaza",
"Nuwara+Eliya+Dedicated+Economic+Center",
"Sanasa+Orex+City",
"Suwamadu+Ayurvedic+Health+Resort",
"Public+Library+Nuwara+Eliya",
"Midky+Hotel"
]


import urllib.request
import json
key = 'AIzaSyBAMiNgTq2xYFbRWN4XR-1sg1e1XfFSpYA'
from pymongo import MongoClient

client = MongoClient('localhost', 27017)
db = client.script

for name in eliya:
    name = name.replace(" ","+")
    response = urllib.request.urlopen("https://maps.googleapis.com/maps/api/place/textsearch/json?query=sri+lanka+" + name + "&key=AIzaSyAJnGHT49akWt89WWPHoqJn4gqyBeA6qvk").read().decode('utf8')
    object = json.loads(response)
    count = 1

    if(len(object['results']) != 0):
        places = object['results']

        for obj in places:
            if (count is 1):
                count += 1

                preprocessed = {}
                preprocessed['id'] = obj['place_id']
                if('vicinity' in obj):
                    areas = obj['vicinity'].split(",")
                    area = areas[len(areas)-1].replace(" ","")
                else:
                    area = "Nuwaraeliya"
                preprocessed['area'] = area
                preprocessed['longitude'] = obj['geometry']['location']['lng']
                preprocessed['latitude'] = obj['geometry']['location']['lat']
                if ('rating' in obj):
                    preprocessed['rating'] = obj['rating']
                preprocessed['name'] = obj['name']

                if ('photos' in obj):
                    preprocessed['photos'] = obj['photos']
                preprocessed['types'] = obj['types']
                db.touristLocations.insert(preprocessed)
                print (name)

    else:
        print ("Could not find " + name)

